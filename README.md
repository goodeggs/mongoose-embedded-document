# mongoose-embedded-document

A Mongoose plugin to provide support for embedding single documents.

[![NPM version](http://img.shields.io/npm/v/mongoose-embedded-document.svg?style=flat-square)](https://www.npmjs.org/package/mongoose-embedded-document)
[![Build Status](http://img.shields.io/travis/goodeggs/mongoose-embedded-document.svg?style=flat-square)](https://travis-ci.org/goodeggs/mongoose-embedded-document)
[![MIT License](http://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](https://github.com/goodeggs/mongoose-embedded-document/blob/master/LICENSE.md)

## Usage

```
npm install mongoose-embedded-document
```

```coffee
var embeddedDoc = require 'mongoose-embedded-document


embeddedSchema = new mongoose.Schema name: String
Embedded = mongoose.model('Embedded', embeddedSchema)

schema = new mongoose.Schema deep: {}
schema.plugin embeddedDoc, path: 'embedded', ref: 'Embedded', required: true
schema.plugin embeddedDoc, path: 'deep.embedded', ref: 'Embedded'
Parent = mongoose.model('Parent', schema)

parent = new Parent embedded: new Embedded(name: 'My Name')
parent.deep.embedded = new Embedded(name: 'My Deep Name')

console.log parent.embedded.name      # Logs 'My Name'
console.log parent.deep.embedded.name # Logs 'My Deep Name'
```

# Known Issues

This plugin uses `Schema.Types.Mixed` for the type of the embedded document. This means that the parent schema does not
know the types of the attributes of the embedded document. This can be an issue when you are used to relying on
Mongoose's type casting in queries for attributes of type `ObjectId` and `Date` in particular.

## Contributing

Please follow our [Code of Conduct](https://github.com/goodeggs/mongoose-embedded-document/blob/master/CODE_OF_CONDUCT.md)
when contributing to this project.

```
$ git clone https://github.com/goodeggs/mongoose-embedded-document && cd mongoose-embedded-document
$ npm install
$ npm test
```

_Module scaffold generated by [generator-goodeggs-npm](https://github.com/goodeggs/generator-goodeggs-npm)._
